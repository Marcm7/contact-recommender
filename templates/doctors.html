{% extends "base.html" %}

{% block content %}
<div class="container">
    <h2 class="section-title">All Doctors</h2>

    {% if doctors %}
    <table class="doctors-table">
        <thead>
            <tr>
                <th>Name</th>
                <th>Specialty</th>
                <th>City</th>
                <th>Country</th>
                <th>Clinic</th>
                <th>Phone</th>
                <th>Email</th>
                <th>Fee</th>
                <th>Rating</th>
                <th class="actions-col">Actions</th>
            </tr>
        </thead>

        <tbody>
            {% for d in doctors %}
            <tr>
                <td>{{ d.name }}</td>
                <td>{{ d.specialty or "-" }}</td>
                <td>{{ d.city or "-" }}</td>
                <td>{{ d.country or "-" }}</td>
                <td>{{ d.clinic or "-" }}</td>
                <td>{{ d.phone or "-" }}</td>
                <td>{{ d.email or "-" }}</td>
                <td>{{ d.fee if d.fee is not none else "-" }}</td>
                <td>{{ d.rating if d.rating is not none else "-" }}</td>

                <td class="actions-col">
                    <a href="{{ url_for('edit_doctor', doctor_id=d.id) }}">Edit</a>
                    |
                    <form action="{{ url_for('delete_doctor', doctor_id=d.id) }}" 
                          method="post" 
                          style="display:inline;"
                          onsubmit="return confirm('Delete this doctor?');">
                        <button type="submit" class="link-delete">Delete</button>
                    </form>
                </td>
            </tr>
            {% endfor %}
        </tbody>

    </table>

    {% else %}
        No doctors yet. <a href="{{ url_for('add_doctor') }}">Add one.</a>
    {% endif %}
</div>
{% endblock %}
